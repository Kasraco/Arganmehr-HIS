@using StackExchange.Profiling
@using Common.Helpers
<!DOCTYPE html>
<html lang="fa">
<head>
    <meta charset="utf-8">
    <title>@ViewBag.Title</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Avant">
    <meta name="author" content="The Red Team">
    <link href="~/Content/normalize.css" rel="stylesheet" />
    <!-- <link href="~/Scripts/assets/less/styles.less" rel="stylesheet/less" media="all">  -->
    <link href="~/Content/JQWidgets/jqx.base.css" rel="stylesheet" />


    <link href="~/Content/bootstrapAdmin.css" rel="stylesheet" />
    <link href="~/Content/bootstrap-theme.css" rel="stylesheet" />
    <link href="~/Content/AdminTheme.css" rel="stylesheet" />
    <link href="~/Content/font.css" rel="stylesheet" />
    <link href="~/Scripts/assets/css/googleFont.css" rel="stylesheet" />
    <link href='~/Scripts/assets/demo/variations/default.css' rel='stylesheet' type='text/css' media='all' id='styleswitcher'>

    <link href='~/Scripts/assets/demo/variations/default.css' rel='stylesheet' type='text/css' media='all' id='headerswitcher'>

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries. Placeholdr.js enables the placeholder attribute -->
    <!--[if lt IE 9]>
        <link rel="stylesheet" href="~/Scripts/assets/css/ie8.css">
        <script type="text/javascript" src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
        <script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/respond.js/1.1.0/respond.min.js"></script>
        <script type="text/javascript" src="~/Scripts/assets/plugins/charts-flot/excanvas.min.js"></script>
    <![endif]-->
    <!-- The following CSS are included as plugins and can be removed if unused-->
    <link href="~/Content/animate.css" rel="stylesheet" />
    <noscript>
        <meta http-equiv="refresh" content="0;url=/NoScript.html">
    </noscript>
    @RenderSection("Headers", false)



</head>
<body>

    @*Begin is Header ------------------------------------*@
    @Html.Partial(MVC.Administrator.Shared.Views._menuTop)
    @*End   is Header ------------------------------------*@


    @*Begin Header --------------------------------------*@

    @Html.Partial(MVC.Administrator.Shared.Views._HeaderMenu)

    @*End Header ----------------------------------------*@
    @*Begin SideBar ----------------------------------------*@
    <div id="page-container">
        <!-- BEGIN SIDEBAR -->
        <nav id="page-leftbar" role="navigation">
            <!-- BEGIN SIDEBAR MENU -->
            @Html.Partial(MVC.Administrator.Shared.Views._menu)
            <!-- END SIDEBAR MENU -->
        </nav>
        @*End SideBar ----------------------------------------*@

        <div id="page-rightbar">
            <div id="widgetarea"><!-- all rightbar widgets --></div>
        </div>
        @*Begin Page Content ----------------------------------------*@
        <div id="page-content">
            <div id='wrap'>
                <div id="page-heading">
                    @Html.MvcSiteMap().SiteMapPath(MVC.Shared.Views.DisplayTemplates.SiteMapPathHelperModel)


                    <div class="options">
                        <div class="btn-toolbar">
                            <a href='#' class="btn btn-default dropdown-toggle" data-toggle='dropdown'>
                                <i class="fa fa-calendar"></i> امروز

                                12/11/1394
                            </a>
                        </div>
                    </div>
                    @RenderSection("TitlePage", required: false)
                </div>
                <div class="container">
                   <div id="pnl-AdminContainer">
                       @RenderBody()
                       @RenderSection("ContentPanel", required: false)
                   </div>
                    @*   <div class="row">
                            <div class="col-md-3">
                                <a class="info-tiles tiles-info">
                                    <div class="tiles-heading">
                                        <div class="pull-right">عضوهای جدید</div>
                                        <div class="pull-left"><i class="fa fa-caret-up"></i>9.8%</div>
                                    </div>
                                    <div class="tiles-body">
                                        <div class="pull-right"><i class="fa fa-group"></i></div>
                                        <div class="pull-left">125</div>
                                    </div>
                                </a>
                            </div>
                        </div>*@


                </div>
                <!-- container -->
            </div>
            <!--wrap -->
        </div>
        <!-- page-content -->
        @*End Page Content ----------------------------------------*@

        <footer role="contentinfo">
            <div class="clearfix">
                <ul class="list-unstyled list-inline pull-left">
                    <li>مرکز سلامت الکترونیک ارگانمهر</li>
                    <button class=" btn btn-inverse-alt btn-xs hidden-print" id="back-to-top"><i class="fa fa-arrow-up"></i></button>
                </ul>
            </div>
        </footer>
    </div>



    <div id="loadingMessage">
        <img src="@Links.Content.Images.loading4_gif" alt="loading..." />
        <div>
            <p>لطفا منتظر بمانید...</p>
        </div>
    </div>

    <!-- begin logon modal form -->
    <div id="logOnModal" style="z-index: 99999999;" class="modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    </div>
    <!-- end logon modal form -->
    <!-- page-container -->
    <!--
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/jquery-ui.min.js"></script>

    <script>!window.jQuery && document.write(unescape('%3Cscript src="~/Scripts/assets/js/jquery-1.10.2.min.js"%3E%3C/script%3E'))</script>
    <script type="text/javascript">!window.jQuery.ui && document.write(unescape('%3Cscript src="assets/js/jqueryui-1.10.3.min.js'))</script>
    -->

    <script src="~/Scripts/assets/js/jquery-1.10.2.min.js"></script>
    <script src="~/Scripts/assets/js/jqueryui-1.10.3.min.js"></script>
    <script src="~/Scripts/libs/jquery.unobtrusive-ajax.min.js"></script>
    <script src="~/Scripts/libs/jquery.validate.unobtrusive.min.js"></script>
    <script type='text/javascript' src="~/Scripts/libs/jquery-migrate-1.1.1.js"></script>
    <script src="~/Scripts/libs/jquery.form.js"></script>
    <script type='text/javascript' src="~/Scripts/libs/bootstrap.js"></script>

    <script type='text/javascript' src='~/Scripts/assets/js/enquire.js'></script>
    <script type='text/javascript' src='~/Scripts/assets/js/jquery.cookie.js'></script>
    <script type='text/javascript' src='~/Scripts/assets/js/jquery.nicescroll.min.js'></script>
    <script type='text/javascript' src='~/Scripts/assets/plugins/codeprettifier/prettify.js'></script>
    <script type='text/javascript' src='~/Scripts/assets/plugins/sparklines/jquery.sparklines.min.js'></script>
    <script type='text/javascript' src='~/Scripts/assets/plugins/form-toggle/toggle.min.js'></script>
    <script src="~/Scripts/noty/packaged/jquery.noty.packaged.min.js"></script>

    @RenderSection("scriptsMiddle", false)

    <script type='text/javascript' src='~/Scripts/assets/js/application.js'></script>
    <script type='text/javascript' src='~/Scripts/assets/demo/demo.js'></script>
    <script src="~/Scripts/libs/admin_js.js"></script>

    <script src="~/Scripts/BootstrapTable/bootstrap-table.js"></script>
    <script src="~/Scripts/BootstrapTable/bootstrap-table-contextmenu.js"></script>
    <script src="~/Scripts/BootstrapTable/extensions/export/bootstrap-table-export.js"></script>
    <script src="~/Scripts/BootstrapTable/extensions/filter/bootstrap-table-filter.js"></script>
    <script src="~/Scripts/BootstrapTable/extensions/filter-control/bootstrap-table-filter-control.js"></script>
    <script src="~/Scripts/BootstrapTable/locale/bootstrap-table-fa-IR.js"></script>

    @RenderSection("scripts", required: false)
    @{Html.RenderPartial(MVC.Shared.Views.ViewNames._Noty);}
    @MiniProfiler.RenderIncludes()



    <script>
    var $table = $('#table');
    $remove = $('#remove'),
   selections = [];

    $(function () {

        $('#toolbar').find('select').change(function () {
            $table.bootstrapTable('refreshOptions', {
                exportDataType: $(this).val()
            });
        });

        $table.bootstrapTable({
            contextMenu: '#example3-context-menu',
            //contextMenuTrigger: 'both',
            //onClickRow: function (row, $el) {
            //    $('#example3-grid').find('.success').removeClass('success');
            //    $el.addClass('success');
            //},
            onContextMenuItem: function (row, $el) {
                if ($el.data("item") == "edit") {
                    alert("Edit: " + row.id + ' ' + row.name + ' ' + row.price);
                } else if ($el.data("item") == "delete") {
                    alert("Delete: " + row.id + ' ' + row.name + ' ' + row.price);
                } else if ($el.data("item") == "action1") {
                    alert("Action1: " + row.id + ' ' + row.name + ' ' + row.price);
                } else if ($el.data("item") == "action2") {
                    alert("Action2: " + row.id + ' ' + row.name + ' ' + row.price);
                }
            }
        });

        setTimeout(function () {
            $table.bootstrapTable('resetView');
        }, 200);
        $table.on('check.bs.table uncheck.bs.table ' +
                'check-all.bs.table uncheck-all.bs.table', function () {

                    $remove.prop('disabled', !$table.bootstrapTable('getSelections').length);

                    // save your data, here just save the current page
                    selections = getIdSelections();
                    // push or splice the selections if you want to save all data selections
                });
        $table.on('expand-row.bs.table', function (e, index, row, $detail) {
            if (index % 2 == 1) {
                $detail.html('Loading from ajax request...');
                $.get('LICENSE', function (res) {
                    $detail.html(res.replace(/\n/g, '<br>'));
                });
            }
        });
        $table.on('all.bs.table', function (e, name, args) {
            console.log(name, args);

        });

        $remove.click(function () {
            var ids = getIdSelections();
            $table.bootstrapTable('remove', {
                field: 'id',
                values: ids
            });
            $remove.prop('disabled', true);
        });
        $(window).resize(function () {
            $table.bootstrapTable('resetView', {
                height: getHeight()
            });
        });

    });





    function getIdSelections() {
        return $.map($table.bootstrapTable('getSelections'), function (row) {
            return row.id
        });
    }
    function detailFormatter(index, row) {
        var html = [];
        $.each(row, function (key, value) {
            html.push('<p><b>' + key + ':</b> ' + value + '</p>');
        });
        return html.join('');
    }
    function getHeight() {
        return $(window).height() - $('h1').outerHeight(true);
    }

    window.operateEvents = {
        'click .like': function (e, value, row, index) {
            alert('You click like action, row: ' + JSON.stringify(row));
        },
        'click .remove': function (e, value, row, index) {
            $table.bootstrapTable('remove', {
                field: 'id',
                values: [row.id]
            });
        }

    };


    function totalTextFormatter(data) {
        return 'Total';
    }

    function totalNameFormatter(data) {
        return data.length;
    }

    function totalPriceFormatter(data) {
        var total = 0;
        $.each(data, function (i, row) {
            total += +(row.price.substring(1));
        });
        return '$' + total;
    }






    </script>

</body>


</html>
